<html>
<head>
    <title>Neovis.js Simple Example</title>
            <style type="text/css">
                html, body {
                    font: 16pt arial;
                }
                #viz {
                    width: 600px;
                    height: 800px;
                    font: 22pt arial;
                }
            </style>
            <script src="https://cdn.neo4jlabs.com/neovis.js/v1.1.0/neovis.js"></script>
            <script
                    src="https://code.jquery.com/jquery-3.2.1.min.js"
                    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
                    crossorigin="anonymous"></script>
            <script type="text/javascript">
                var viz;
                function draw() {
                    var config = {
                        container_id: "viz",
                        server_url: "bolt://localhost:7687",
                        server_user: "neo4j",
                        server_password: "burek123",
                        labels: {"Person": {"community": "community_3", "caption": "id"}},
                        relationships: {"INTERACTS_2": {"caption": false}, "INTERACTS_3": {"caption": false}},
                        initial_cypher: "MATCH (p1:Person)-[r:INTERACTS_3|:INTERACTS_2]-(p2:Person)                     WHERE p1.community_3 = 3 RETURN *"
                    };
                    viz = new NeoVis.default(config);
                    viz.render();                    
                    viz.onVisualizationRendered(function(ctx) {
                        let imageSrc = document.getElementsByTagName("canvas")[0].toDataURL();
                        console.log(imageSrc);
                        document.getElementById("viz-image").src=imageSrc;
                        //document.getElementById("viz").style="display:none";
                        
                        let kernel = IPython.notebook.kernel;
                        //let command = 'display(HTML('<img id="viz-image" width="300px" src="' + imageSrc + '" />';
                        let command = "foo = 'bar'";
                        kernel.execute(command);
                        
                    });
                }
            </script>
         </head>
        <body onload="draw()">
            <div id="viz"></div>
        </body>
    </html>
    